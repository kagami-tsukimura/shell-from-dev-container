#!/usr/bin/env python3

# ./pyminish


def builtin_echo(args):
    print("".join(args))


def builtin_exit(args):
    exit(0)


BUILTIN_COMMAND_FUNC_MAPPING = {"echo": builtin_echo, "exit": builtin_exit}


def main():
    while True:
        line = input("> ")
        tokens = line.split()

        if len(tokens) == 0:
            continue

        command = tokens[0]
        args = tokens[1:]

        # TODO: run command
        print(command, args)
        if command in BUILTIN_COMMAND_FUNC_MAPPING:
            BUILTIN_COMMAND_FUNC_MAPPING[command](args)
        else:
            print(f"Unknown command: {command}")


if __name__ == "__main__":
    main()
